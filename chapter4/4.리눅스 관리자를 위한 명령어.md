# 1. 프로그램 설치를 위한 RPM

centOS에서 패키지를 설치하는 데 가장 많이 사용되는 것은 RPM과 YUM이다.

## RPM

초창기의 리눅스는 새로운 프로그램을 설치하는 것이 꽤 어려워서 초보자는 프로그램을 설치하는 것 조차도 하나의 난제였다. 이러한 점을 개선하기 위해 레드햇사에서 윈도우의 setup.exe와 비슷하게 프로그램을 설치한 후에 바로 실행할수있는 설치 파일을 제작하게 되었다. 이러한 설치 파일의 확장명 .rpm이며, 이를 패키지라고 부른다.

* 파일의 의미
    * rpm 파일의 형식은 일반적으로 다음과 같다.
        - 패키지이름-버전-릴리스번호.centOS버전.아키텍처.rpm
* 자주 사용하는 rpm 명령어 옵션
    * 설치
        - rpm -Uvh 패키지파일이름.rpm
    * 삭제
        - rpm -e 패키지이름
    * 이미 설치된 패키지 조회
        - rpm -qa 패키지이름 -> 시스템에 패키지가 설치되어있는지 확인
        - rpm -qf 파일의 절대경로 -> 이미 설치된 파일이 어느 패키지에 포함된 것인지 확인
        - rpm -ql 패키지이름 -> 트정 패키지에 어떤 파일들이 포함되었는지 확인
        - rpm -qi 패키지이름 -> 설치된 패키지의 상세 정보
    * 아직 설치되지 않은 rpm 파일 조회
        - rpm -qlp 패키지파일이름.rpm -> 패키지 파일에 어떤 파일들이 포함되었는지 확인
        - rpm -qip 패키지파일이름.rpm -> 패키지 파일의 상세 정보

* rpm의 단점
    - 의존성 문제 
    - 의존성 문제를 해결한것이 yum 명령어이다.

# 2. 편리하게 패키지를 설치하는 YUM

RPM이 분명히 유용하지만, 의존성 문제로 불편한 점이 발생한다. 이를 해결하려고 제공하는 것이 YUM 명령어다. YUM은 RPM과 별도라기보다는 rpm패키지를 설치하는 편리한 도구라고 생각하면 된다.

## YUM

yum 명령어는 rpm명령어의 패키지 의존성 문제를 완전하게 해결해준다. 즉, 특정 패키지를 성치하고자 할때 의존성이 있는 다른 패키지를 자동으로 설치해주는 기능을 갖춘 명령어이다. 또한 yum은 centOS 프로젝트가 제공하는 rpm 파일 저장소에서 설치할 rpm 파일은 물론이고 해달 파일과 의존성이 잇는 다른 rpm파일까지 인터넷을 통해 모두 알아서 다운로드한 후 자동으로 설치 한다.

여기서 궁금해 할만한 사랑은 저장소의  url은 어떻게 알것인가? 라는 문제다. 이 저장소의 url은 /etc/yum.repo.d/ 디렉터리의 파일에 저장되어 있다.

## YUM의 기본 사용법

yum의 기본 사용법은 무척 간단하며, 대개는 이 기본 사용법으로 충분하다.

* 기본 설치 방법
    - yum -y install 패키지이름
        - 여기서 '-y'옵션을 써주면 사용자에게 yes/no를 묻는 부분에서 무조건 yes를 입력한 것으로 간주하고, 자동으로 넘어가서 편리하다.
* rpm 파일 설치 방법
    - yum localinstall rpm파일이름.rpm
        - rpm 파일은 rpm -Uvh 대신 yum localinstall을 실행해 패키지를 설치할 수 있다. 좋은점은 현재 디렉터리의 rpm 파일에 의존성 문제가 있을때 문제를 해결할 수 있는 파일을 인터넷에서 다운로드해서 설치해준다는 점이다.
* 업데이트 가능한 목록보기
    - yum check-update
        - 시스템에 설치된 패키지 중에서 업데이트가 가능한 패키지의 목록을 출력한다.
* 업데이트
    - yum update 패키지이름
* 삭제
    - yum remove 패키지이름
* 정보확인
    - yum info 패키지이름
        - 패키지의 요약정보를 보여준다.

## YUM 고급 사용법

패키지 설치는 대부분 앞에서 사용한 yum -y install 패키지이름으로 실행하는 것으로 충분하다. 그 외에 추가로 알아두면 좋은 것들을 확인해보자

* 패키지 그룹설치
    - yum groupinstall 패키지그룹이름
        - 패키지 그룹 설치는 패키지 그룹에 포함되는 패키지들을 통째로 설치할때 사용할수있다. 패키지 그룹의 종류는 yum grouplist로 확인할 수 있다. 또 설치할 때 패키지 그룹의 이름은 주로 띄어쓰기가 많으므로 꼭 "" 안에 써야한다.
* 패키지 리스트 확인
    - yum list 패키지이름
        - CentOS에서 제공하는 패키지 리스트를 보여준다. 
* 특정 파일이 속한 패키지 이름확인
    - yum provides 파일이름
        - 특정 파일이 어느 패키지에 들어 있는지를 확인할 수 있다.
* GPG 키 검사 생략
    - yum install --nogpgcheck rpm파일이름.rpm
        - CentOS 7에서 인증되지 않는 rpm파일이 설치 안되는 경우가 있는지 이때 사용한다.
* 기존 저장소 목록 지우기
    - yum clean all
        - 기존에 다운로드한 패키지 목록을 지운다음 yum install을 실행하면 새로 패키지 목록을 다운로드한다.

## YUM의 작동 방식과 설정 파일
yum 명령어와 관련된 설정 파일은 /etc/yum.conf와 /etc/yum.repos.d/ 디렉터리가 있다. yum.conf 파일은 특별히 설정을 변경할 것이 없으므로 앞으로도 신경 쓸 필요는 없다. 중요한것은 /etc/repos.d/ 디렉터리에 있는 여러 개의 파일이다. 각 파일은 yum 명령어를 실행했을때 인터넷에서 해당 패키지 파일을 검색하는 네트워크의 주소가 들어있기 때문이다.

# 3. 파일 압축과 묶기
파일 압축과 묶기는 사용이 간단하고, 앞으로 서버 구축 실습부분에서 자주 나올 것이이다.

## 파일 압축

리눅스에서 많이 보는 압축 파일의 확장명으로는 xz,bz2,gz,zip.Z 등이 있다. 예전에는 주로 확장명 gz를 사용했으나, 최근에는 압축률이 더 좋은 xz나 bz2를 더 많이 사용하는 추세다. 이 파일들을 관리하는 명령어는 다음과 같다.

- xz : 확장명 xz로 압축하거나 풀어준다. 비교적 최신의 압축 명령으로 압축률이 뛰어나다.
- bzip2 : 확장명 bz2로 압축하거나 풀어준다.
- bunzip2 : 확장명 bz2로 압축하거나 풀어준다.
- gzip : 확장명 gz으로 압축하거나 풀어준다.
- gunzip : 확장명 gz의 압축을 풀어준다.
- zip : windows용과 호환되는 확장명 zip 압축하거나 풀어준다.
- upzip : windows용과 호환되는 zip으로 묶은 압푹 파일을 풀어준다.


# 파일 묶기
리눅스에서는 파일압축과 파일 묶기는 원칙적으로 별개의 프로그램으로 실행하도록 되어잇다. 물론 사용자 편의성을 위해 한 번에 할 수 있는 옵션도 제공한다. 파일묶기의 명령어는 tar이며 묶어진 파일의 확장명도 tar다.

# 4. 파일 위치 검색
리눅스에서 특정 파일의 위치를 검색하는 명령어는 다음과 같다. 가장 많이 사용되는 명령어는 find다.

- find 경로 옵션 조건 action
- which 실행 파일 이름 : path에 설정된 디렉터리만 검색한다.
- whereis 실행파일 이름 : 실행 파일,소스,man 페이지 파일까지 검색한다.
- locate 파일이름 : 파일 목록 데이터베이스에서 검색하기 때문에 매우 빠르고 유용하지만,'updatedb'명령어를 1회 실행해야 사용할수있따. 

# 5. 시스템 설정
CentOS의 x 윈도 환경에서 제공해주는 시스템의 설정 명령어를 사용하면 여러가지 시스템 설정에서 좀 더 편리하게 사용할 수 있다. 

## 날짜 및 설정
 - 'system-config-date'명령어를 사용하며, 날짜와 시간을 설정할 수 있다.

## 네트워크 설정
 - 'nmtui'명령어를 사용한다.

## 방어벽 설정
- 'firewall-config' 명령어를 사용하며, 외부에 서비스하려고 포트를 열어줄 때 사용한다.

## 서비스(데몬) 설정
- 'ntsysv'명령어를 사용하며, 서비스(데몬)의 시작, 중지, 재시작 및 사용 여부를 설정한다.

# 6. CRON과 AT

## cron

주기적으로 반복되는 일을 자동으로 실행할 수 있도록 시스템 작업을 혜약해 놓는 것을 cron이라 부른다.
-  분 시 일 월 요일 사용자 실행명령

## at

cron은 주기적으로 반복되는 작업을 예약하는 것이지만, at명령어는 일회성 작업을 예약하는 것이다.

